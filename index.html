<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Short URL Generator</title>
</head>
<body>
    <h1>Short URL Generator</h1>
    <p>Click below to generate 10 random short URLs</p>
    <button onclick="generateAndDisplayShortUrls()">Generate Short URLs</button>

    <div id="shortUrlContainer"></div>
    <div id="redirectLinkContainer"></div>

    <script>
        // Function to generate random short URL (1 number and 1 letter)
        function generateShortUrl() {
            const number = Math.floor(Math.random() * 10); // Random number between 0-9
            const letter = String.fromCharCode(97 + Math.floor(Math.random() * 26)); // Random letter between a-z
            return `${number}${letter}`; // Combine number and letter
        }

        // Function to generate and display 10 random short URLs
        function generateAndDisplayShortUrls() {
            const shortUrls = [];
            const shortUrlContainer = document.getElementById('shortUrlContainer');
            const redirectLinkContainer = document.getElementById('redirectLinkContainer');
            
            // Generate 10 random short URLs
            for (let i = 0; i < 10; i++) {
                shortUrls.push(generateShortUrl());
            }

            // Display the generated short URLs on the page
            shortUrlContainer.innerHTML = `<strong>Generated Short URLs: </strong><br>`;
            shortUrls.forEach(shortUrl => {
                shortUrlContainer.innerHTML += `<strong>/${shortUrl}</strong><br>`;
            });

            // Create clickable links for each short URL
            redirectLinkContainer.innerHTML = shortUrls.map(shortUrl => {
                return `<a href="/${shortUrl}" id="redirectLink_${shortUrl}">Go to ${shortUrl}</a><br>`;
            }).join('');

            // Optionally, add a listener for clicks to handle redirects dynamically
            shortUrls.forEach(shortUrl => {
                document.getElementById(`redirectLink_${shortUrl}`).addEventListener('click', (e) => {
                    e.preventDefault();
                    window.location.href = generateFullUrl(shortUrl); // Redirect to the full URL
                });
            });
        }

        // This function simulates redirecting to the full URL after the short URL is generated
        function generateFullUrl(shortUrl) {
            const fullUrlMap = {
                "0a": "https://example.com/page1",
                "1b": "https://example.com/page2",
                "3c": "https://google.com", // Sample redirection
                "4d": "https://anotherexample.com" // Sample redirection
            };

            // If short URL exists in the map, redirect to it
            if (fullUrlMap[shortUrl]) {
                return fullUrlMap[shortUrl];
            } else {
                alert("No redirection found for this short URL.");
                return "#"; // If not found, prevent redirection
            }
        }
    </script>
</body>
</html>
